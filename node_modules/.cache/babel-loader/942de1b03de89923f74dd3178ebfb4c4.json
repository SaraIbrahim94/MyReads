{"ast":null,"code":"import _objectSpread from\"/Users/saraibrahim/Desktop/Tuts/React/MyReads-Final/starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var api=\"https://reactnd-books-api.udacity.com\";var token=localStorage.token;if(!token)token=localStorage.token=Math.random().toString(36).substr(-8);var headers={Accept:\"application/json\",Authorization:token};export var get=function get(bookId){return fetch(\"\".concat(api,\"/books/\").concat(bookId),{headers:headers}).then(function(res){return res.json();}).then(function(data){return data.book;});};export var getAll=function getAll(){return fetch(\"\".concat(api,\"/books\"),{headers:headers});};export var update=function update(book,shelf){return fetch(\"\".concat(api,\"/books/\").concat(book.id),{method:\"PUT\",headers:_objectSpread(_objectSpread({},headers),{},{\"Content-Type\":\"application/json\"}),body:JSON.stringify({shelf:shelf})}).then(function(res){return res.json();});};export var search=function search(query,maxResults){return fetch(\"\".concat(api,\"/search\"),{method:\"POST\",headers:_objectSpread(_objectSpread({},headers),{},{\"Content-Type\":\"application/json\"}),body:JSON.stringify({query:query,maxResults:maxResults})}).then(function(res){return res.json();}).then(function(data){return data.books;});};","map":{"version":3,"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","get","bookId","fetch","then","res","json","data","book","getAll","update","shelf","id","method","body","JSON","stringify","search","query","maxResults","books"],"sources":["/Users/saraibrahim/Desktop/Tuts/React/MyReads-Final/starter/src/BooksAPI.js"],"sourcesContent":["const api = \"https://reactnd-books-api.udacity.com\";\n\nlet token = localStorage.token;\n\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\n\nconst headers = {\n  Accept: \"application/json\",\n  Authorization: token,\n};\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.book);\n\nexport const getAll = () =>\n    fetch(`${api}/books`, { headers });\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: \"PUT\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ shelf }),\n  }).then((res) => res.json());\n\nexport const search = (query, maxResults) =>\n  fetch(`${api}/search`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ query, maxResults }),\n  })\n    .then((res) => res.json())\n    .then((data) => data.books);\n"],"mappings":"gJAAA,GAAMA,IAAG,CAAG,uCAAuC,CAEnD,GAAIC,MAAK,CAAGC,YAAY,CAACD,KAAK,CAE9B,GAAI,CAACA,KAAK,CAAEA,KAAK,CAAGC,YAAY,CAACD,KAAK,CAAGE,IAAI,CAACC,MAAM,EAAE,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAE9E,GAAMC,QAAO,CAAG,CACdC,MAAM,CAAE,kBAAkB,CAC1BC,aAAa,CAAER,KACjB,CAAC,CAED,MAAO,IAAMS,IAAG,CAAG,QAANA,IAAG,CAAIC,MAAM,QACxBC,MAAK,WAAIZ,GAAG,mBAAUW,MAAM,EAAI,CAAEJ,OAAO,CAAPA,OAAQ,CAAC,CAAC,CACzCM,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,QAAKA,KAAI,CAACC,IAAI,GAAC,GAE9B,MAAO,IAAMC,OAAM,CAAG,QAATA,OAAM,SACfN,MAAK,WAAIZ,GAAG,WAAU,CAAEO,OAAO,CAAPA,OAAQ,CAAC,CAAC,GAEtC,MAAO,IAAMY,OAAM,CAAG,QAATA,OAAM,CAAIF,IAAI,CAAEG,KAAK,QAChCR,MAAK,WAAIZ,GAAG,mBAAUiB,IAAI,CAACI,EAAE,EAAI,CAC/BC,MAAM,CAAE,KAAK,CACbf,OAAO,gCACFA,OAAO,MACV,cAAc,CAAE,kBAAkB,EACnC,CACDgB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEL,KAAK,CAALA,KAAM,CAAC,CAChC,CAAC,CAAC,CAACP,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,GAE9B,MAAO,IAAMW,OAAM,CAAG,QAATA,OAAM,CAAIC,KAAK,CAAEC,UAAU,QACtChB,MAAK,WAAIZ,GAAG,YAAW,CACrBsB,MAAM,CAAE,MAAM,CACdf,OAAO,gCACFA,OAAO,MACV,cAAc,CAAE,kBAAkB,EACnC,CACDgB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEE,KAAK,CAALA,KAAK,CAAEC,UAAU,CAAVA,UAAW,CAAC,CAC5C,CAAC,CAAC,CACCf,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,QAAKA,KAAI,CAACa,KAAK,GAAC"},"metadata":{},"sourceType":"module"}